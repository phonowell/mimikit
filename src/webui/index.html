<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Loading...</title>
    <link rel="stylesheet" href="base.css" />
    <link rel="stylesheet" href="layout.css" />
    <link rel="stylesheet" href="components.css" />
  </head>
  <body>
    <main data-app>
      <header class="app-header">
        <div class="app-controls" role="group" aria-label="Status and actions">
          <div class="status-group" aria-label="Status">
            <p class="status-item">
              <span class="status-dot" data-status-dot></span>
              <span class="status-text" data-status-text aria-live="polite"
                >Loading...</span
              >
            </p>
          </div>
          <div class="app-actions" role="toolbar" aria-label="Actions">
            <button
              class="action-btn tasks-open"
              data-tasks-open
              type="button"
              title="Tasks"
              aria-label="Open tasks"
              aria-haspopup="dialog"
              aria-controls="tasks-dialog"
              aria-expanded="false"
            >
              Tasks
            </button>
            <button
              class="action-btn restart-btn"
              data-restart
              type="button"
              title="Restart server"
              aria-label="Restart server"
              aria-haspopup="dialog"
              aria-controls="restart-dialog"
              aria-expanded="false"
            >
              Restart
            </button>
          </div>
        </div>
      </header>

      <section class="messages-section" aria-label="Messages">
        <h2 class="visually-hidden">Messages</h2>
        <ul class="messages" data-messages>
          <li class="empty-state" data-empty>
            <p>Waiting for activity...</p>
          </li>
        </ul>
        <button
          class="scroll-bottom"
          data-scroll-bottom
          type="button"
          title="Scroll to bottom"
          aria-label="Scroll to bottom"
          aria-hidden="true"
          inert
          tabindex="-1"
        >
          &#x2193;
        </button>
      </section>

      <section class="composer" aria-label="Composer">
        <form data-form>
          <label class="visually-hidden" for="message-input">Message</label>
          <textarea
            id="message-input"
            data-input
            placeholder="Type a message..."
            rows="1"
          ></textarea>
          <button type="submit" data-send>Send</button>
        </form>
      </section>

      <dialog
        class="tasks-dialog"
        data-tasks-dialog
        id="tasks-dialog"
        aria-labelledby="tasks-title"
      >
        <section class="tasks-panel">
          <header class="tasks-header">
            <h2 class="tasks-title" id="tasks-title">Tasks</h2>
            <div class="tasks-actions" role="group" aria-label="Tasks actions">
              <p class="tasks-meta" data-tasks-meta aria-live="polite"></p>
              <button
                class="tasks-close"
                data-tasks-close
                type="button"
                title="Close tasks"
                aria-label="Close tasks"
              >
                &#x2715;
              </button>
            </div>
          </header>
          <ul class="tasks-list" data-tasks-list></ul>
        </section>
      </dialog>

      <dialog
        class="restart-dialog"
        data-restart-dialog
        id="restart-dialog"
        aria-labelledby="restart-title"
        aria-describedby="restart-description"
      >
        <section class="restart-panel">
          <header class="restart-header">
            <h2 class="restart-title" id="restart-title">Restart server?</h2>
          </header>
          <p class="restart-description" id="restart-description">
            Restart will reload the server. Reset will clear .mimikit state
            before restarting.
          </p>
          <div class="restart-actions" role="group" aria-label="Restart actions">
            <button
              class="restart-dialog-btn restart-dialog-btn-danger"
              data-restart-reset
              type="button"
            >
              Reset
            </button>
            <button class="restart-dialog-btn" data-restart-cancel type="button">
              Cancel
            </button>
            <button
              class="restart-dialog-btn restart-dialog-btn-primary"
              data-restart-confirm
              type="button"
            >
              Restart
            </button>
          </div>
        </section>
      </dialog>
    </main>

    <script type="module" src="app.js"></script>
  </body>
</html>
